import{r as o,h as t,c as r,H as i,g as s}from"./p-425f39d9.js";const n=class{constructor(t){o(this,t)}render(){return t("div",{class:"lds-hourglass"})}};n.style='.lds-hourglass{display:inline-block;position:relative;width:80px;height:80px}.lds-hourglass:after{content:" ";display:block;border-radius:50%;width:0;height:0;margin:8px;box-sizing:border-box;border:32px solid #cef;border-color:#cef transparent #cef transparent;animation:lds-hourglass 1.2s infinite}@keyframes lds-hourglass{0%{transform:rotate(0);animation-timing-function:cubic-bezier(0.55, 0.055, 0.675, 0.19)}50%{transform:rotate(900deg);animation-timing-function:cubic-bezier(0.215, 0.61, 0.355, 1)}100%{transform:rotate(1800deg)}}';const e=class{constructor(t){o(this,t),this.ucSymbolSelected=r(this,"ucSymbolSelected",7),this.loading=!1,this.searchResults=[]}onFindStocks(o){this.loading=!0,o.preventDefault(),fetch(`https://www.alphavantage.co/query?function=SYMBOL_SEARCH&keywords=${this.stockNameInput.value}&apikey=BCVPOVY5B1JRO74R`).then((o=>o.json())).then((o=>{this.searchResults=o.bestMatches.map((o=>({name:o["2. name"],symbol:o["1. symbol"]}))),this.loading=!1})).catch((o=>{console.log(o),this.loading=!1}))}onSelectSymbol(o){this.ucSymbolSelected.emit(o)}render(){let o=t("ul",null,this.searchResults.map((o=>t("li",{onClick:this.onSelectSymbol.bind(this,o.symbol)},t("strong",null,o.symbol)," - ",o.name))));return this.loading&&(o=t("uc-spinner",null)),[t("form",{onSubmit:this.onFindStocks.bind(this)},t("input",{autocomplete:"off",ref:o=>this.stockNameInput=o,id:"stock-symbol"}),t("button",{type:"submit"},"Find!")),t("ul",null,o)]}};e.style=":host{font-family:sans-serif;border:2px solid var(--color-primary, black);margin:2rem;padding:1rem;display:block;width:20rem;max-width:100%}form input{font:inherit;color:#3b013b;padding:0.1rem 0.25rem;display:block;margin-bottom:0.5rem}form input:focus,form button:focus{outline:none}form button{font:inherit;padding:0.25rem 0.5rem;border:1px solid var(--color-primary, black);background:var(--color-primary, black);color:var(--color-primary-inverse, white);cursor:pointer}form button:hover,form button:active{background:var(--color-primary-highlight, grey);border-color:var(--color-primary-highlight, grey)}form button:disabled{background:#999;cursor:not-allowed}ul{margin:0;padding:0;list-style:none}li{margin:0.25rem 0;padding:0;border:1px solid #ccc;cursor:pointer}li:hover,li:active{background:var(--color-primary, black);color:var(--color-primary-inverse, white)}";const l=class{constructor(t){o(this,t),this.fetchedPrice=0,this.stockInputValid=!1,this.loading=!1,this.onFetchStockPrice=o=>{o.preventDefault(),this.stockSymbol=this.stockInput.value},this.onUserInput=o=>{this.stockUserInput=o.target.value,this.stockInputValid=""!==this.stockUserInput.trim()}}stockSymbolChanged(o,t){o!==t&&(this.stockUserInput=o,this.stockInputValid=!0,this.fetchStockPrice(o))}componentWillLoad(){console.log("component will load"),console.log(this.stockSymbol),this.stockSymbol&&(this.stockUserInput=this.stockSymbol,this.stockInputValid=!0,this.fetchStockPrice(this.stockSymbol))}componentDidLoad(){console.log("component did load")}componentWillUpdate(){console.log("component will update")}componentDidUpdate(){console.log("component did update")}disconnectedCallback(){console.log("component did unload")}onStockSymbolSelected(o){console.log("stock symbol selected",o.detail),o.detail&&o.detail!==this.stockSymbol&&(this.stockSymbol=o.detail)}fetchStockPrice(o){this.loading=!0,fetch(`https://www.alphavantage.co/query?function=GLOBAL_QUOTE&symbol=${o}&apikey=BCVPOVY5B1JRO74R`).then((o=>{if(200!==o.status)throw new Error("Invalid");return o.json()})).then((o=>{if(!o["Global Quote"]["05. price"])throw new Error("Invalid symbol!");this.fetchedPrice=+o["Global Quote"]["05. price"],this.error=null,this.loading=!1})).catch((o=>{this.error=o.message,this.fetchedPrice=null,this.loading=!1}))}render(){let o=t("p",null,"Please enter a symbol");return this.error&&(o=t("p",null,this.error)),this.fetchedPrice&&(o=t("p",null,"Price: $",this.fetchedPrice)),this.loading&&(o=t("uc-spinner",null)),t(i,{class:this.error?"error":""},t("form",{onSubmit:this.onFetchStockPrice},t("input",{autocomplete:"off",ref:o=>this.stockInput=o,id:"stock-symbol",value:this.stockUserInput,onInput:this.onUserInput}),t("button",{disabled:!this.stockInputValid||this.loading,type:"submit"},"Fetch")),t("div",null," ",o," "))}get el(){return s(this)}static get watchers(){return{stockSymbol:["stockSymbolChanged"]}}};l.style=":host{font-family:sans-serif;border:2px solid var(--color-primary, black);margin:2rem;padding:1rem;display:block;width:20rem;max-width:100%}:host(.error){border-color:red}form input{font:inherit;color:#3b013b;padding:0.1rem 0.25rem;display:block;margin-bottom:0.5rem}form input:focus,form button:focus{outline:none}form button{font:inherit;padding:0.25rem 0.5rem;border:1px solid #3b013b;background:var(--color-primary, black);color:white;cursor:pointer}form button:hover,form button:active{background:#750175;border-color:#750175}form button:disabled{background:#999;cursor:not-allowed}";export{n as uc_spinner,e as uc_stock_finder,l as uc_stock_price}